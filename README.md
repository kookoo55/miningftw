# ⛏️🔌⛏️ miningftw ⛏️🔌⛏️

Forecasting & analysis for a winter-only BTC/ETC mining setup. It does not support calculations for BTC & ETC mining together. This repo stores a monthly model generator.

[Summary PDF with charts](reports/miningftw_deck_latest.pdf)

There are three scenarios in this PDF:
1) BTC mining only 2025-2030
2) ETC mining only 2025-2030
3) BTC vs ETC 2025-2030

## Repo layout

```
miningftw/
├─ .github/
│  └─ workflows/
│     ├─ data-snapshot (PR auto-merge)  # CI that writes reports/DATA_SNAPSHOT.md + data/packages/*
│     └─ (other workflow files)
├─ config/
│  └─ assumptions.json                  # single source of truth for model knobs
├─ data/
│  ├─ btc_miner_sheet.csv               # BTC specs (TH/s, W, price, link)
│  ├─ etc_miner_sheet.csv               # ETC specs (GH/s, W, price, link)
│  ├─ monthly_model_2025_2030_full.csv  # winter-only monthly model (always same name)
│  ├─ annual_pnl_accrual.csv            # built by scripts/build_annual_pnl_accrual.py
│  ├─ annual_pnl_cash.csv               # built by scripts/build_annual_pnl_cash.py (captures 2031)
│  └─ packages/
│     ├─ data_csvs.zip                  # zipped CSVs for portability
│     └─ manifest.json                  # headers, row counts, samples, sha256
├─ reports/
│  └─ DATA_SNAPSHOT.md                  # human-readable snapshot (from CI)
│  └─ miningftw_*.pdf                   # chatgpt generated summary
├─ scripts/
│  ├─ build_monthly_model.py            # reads CSV specs + assumptions; overwrites monthly_model_2025_2030.csv
│  ├─ build_annual_pnl_accrual.py       # writes data/annual_pnl_accrual.csv
│  └─ build_annual_pnl_cash.py          # writes data/annual_pnl_cash.csv
├─ .gitignore
├─ README.md
└─ requirements.txt
```
## Main Scenario 

1) Years 2025-2030
2) Winter months mining only because electricity rates are cheaper in the winter months.
3) Mining operates at 100% during winter months and 0% during summer months.

## How it works

1) Each script in the `scripts` folder generates a single CSV file.
2) Each script depends on the `config/assumptions.json` file and the `data/btc_miner_sheet.csv` for btc calculations and `data/etc_miner_sheet.csv` for etc calculations.
3) The `build_annual_pnl_accrual.py` and `build_annual_pnl_cash.py` both rely on the CSV file generated by `build_monthly_model.py`.
4) Run the `build_monthly_model.py` script first to generate the CSV file. Then run the other scripts.

## Algo
1) For each coin, the script **finds the row** where `model` equals the `model_name` in assumptions (case-insensitive).  
2) It **extracts per‑unit hashrate and power** from the CSV (TH/s for BTC, GH/s for ETC).  
3) It computes **coins/day**
4) Sales are recognized with a **12‑month lag** (`sell_lag_months`) to target LTCG.

## Assumptions (keys)

All values can be adjusted in `assumptions.json`.

Defaults worth calling out:
- Miners: By default, S21 and Jasminer X4-Q are used for calculations. To compare somewhat accurately, the total cost of miners is the same (~$17,000) Default script uses 6-S21 and 20-Jasminer X4-Q.
  - S21 and Jasminer X4-Q were used because they have some of the highest energy/terahash rate.
  - Miners are not overclocked.
- Calcuations do not include power from PDU, immmersion tank, dry cooler, etc.
- `annual_price_pct: 0.0` because I wanted to calculate a base case scenario where coin prices does not increase over the next 5-6 years.
- Pool fee is set at 1%.
- Bitcoin halving in 2028-03-16 is not included in calculations for simplicity. 

```json
{
  "start_month": "2025-10",
  "end_month": "2030-12",
  "winter_months": [10,11,12,1,2,3,4],
  "sell_lag_months": 12,
  "elec_rate_usd_per_kwh": 0.081,
  "annual_power_pct": 0.0,
  "btc": {
    "model_name": "s21",
    "base_price_usd": 125000.0,
    "annual_price_pct": 0.0,
    "use_difficulty": true,
    "difficulty_now": 8.6e13,
    "annual_difficulty_pct": 0.0,
    "block_time_s": 600.0,
    "block_reward": 3.125,
    "pool_fee_pct": 0.01,
    "units": 6,
    "source_csv": "data/btc_miner_sheet.csv"
  },
  "etc": {
    "model_name": "jasminer x4-q",
    "base_price_usd": 24.0,
    "annual_price_pct": 0.0,
    "use_difficulty": true,
    "difficulty_now": 1.7e14,
    "annual_difficulty_pct": 0.0,
    "block_time_s": 13.5,
    "block_reward": 2.56,
    "pool_fee_pct": 0.01,
    "units": 20,
    "source_csv": "data/etc_miner_sheet.csv"
  }
}
```

## Run

:heavy_exclamation_mark: Always run the monthly model script first.

```bash
python scripts/build_monthly_model.py
# writes data/monthly_model_2025_2030.csv

python scripts/build_annual_pnl_accrual.py
# writes data/annual_pnl_accrual.csv

python scripts/build_annual_pnl_cash.py
# writes data/annual_pnl_cash.csv
```

